 \input ctustyle
 \input glosdata
 \input opmac-bib
 \worktype [B/CZ]
 \faculty {F3}
 \department {Katedra řídicí techniky}
 \title {Řízení bezkartáčových motorů s deskou Raspberry Pi a Linuxem}
 \author {Martin Prudek}
 \date {Duben 2015}
 \abstractEN {Testing}
 \abstractCZ {Testovani}
 \declaration {Prohlasuji, ze jsem pracoval poctive.}
 \makefront
 
 
 \chap Motivace
 
 Značné zlevnění a zpřístupnění jednodeskových minipočítačů v posledních letech u nás vyvolalo otázku, zda je možné některé hojně rozšířene modely využít k řídicím aplikacím.
 
  Z široké nabídky zařízení jsme vybrali Raspberry PI model B rev. 2.0. U tohoto počítače již byla prostudována možnost řízení motoru stejnosměrného motoru zachytáváním impulzů inkrementálního rotačního senzoru polohy\cite[Meciar]. Takové řízení je však vlivem nedostatečného výpočetního výkonu možné jen do 14kHz (2100ot/min). Proto bylo zpracování hrubých senzorových dat přesunuto do FPGA obvodu, se kterým Raspberry komunikuje prostřednictvím protokolu SPI.
  
  Jednosměrný bezkartáčový motor byl dále nahrazen efektivnějším PMS motorem.
 
 
 \chap PMS motory.

PMS (Permanent Magnet Synchronous) motory jsou díky vysoké efektivitě a robustní kontrukci bez kartáčů vhodnou volbou v mnoha řídicích aplikacích. 

Komutace probíhá na rozdíl od kartáčových motorů elektronicky, což přínáší vyšší požadavky na řídicí hardware. Odměnou je výšší výkon v poměru k váze, stejně tak točivý moment v poměru k příkonu. Výhodou jsou také nížší hlučnost a delší životnost, protože nedochází k opotřebení kartáčů a mechanických částí komutátoru. \cite[PMSM-Kinetis] Elektronická komutace bývá implementována v procesorovém systému, či speciálním obvodu (FPGA / ASIC)\cite[Meloun].
 
 \sec Konstrukce
 
 Text v sekci.
 
 \sec Řízení
 
 
 \chap Popis hardware
 
 \sec Použitý motor
 
 \sec Raspberry Pi
 
 Raspberry Pi je jednodeskový počítač založený na rodině architektury ARM, který se v současnosti dodavá v několika variantách.
 
 Základem první verze tohoto minipočítače je \glref{SoC} BCM2835, který obsahuje centrální procesor ARM1176JZF-S s taktem 700 MHz, grafický procesor VideoCore IV a 256 MiB nebo 512 MiB  paměti RAM. Neumožňuje však připojení pevného disku. Opearační systém a data, která mají být uchována i po restartu zařízení je třeba uložit na SD kartu, jejíž slot je k dispozici. Protože procesorová jednotka typu ARM11 využíva poměrně zastaralou architekturu ARMv6 s nedostatečnou hardwarovou podporou pro výpočty v polovoucí řádové čárce  \glref{VFP}v2 \cite[ARM11] \fnote{ARM11 Online Technical Reference Manual \url{http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0301h/Cegdejjh.html}}, je nutná rekompilace distribuce systému Debian/Raspbian. Oficiální port této distribuce ARMhf totiž vyžaduje alespoň architektutu ARMv7 s koprocesorem pro výpočty v plovoucí řádové čárce nejméně ve verzi VFPv3-D16. \fnote{Debian, List of official ports \url{https://www.debian.org/ports/}}
 
Druhá verze Raspberry Pi přinesla zvýšení výpočetního výkonu s růstem taktu procesoru na 900Mhz a využitím čtyř výpočetních jader. To vše pod modernější architekturou ARMv7-A s procesorem ARM Coretx-A7.je momentálně k dispozici jen v modelu B.
 



\ctable{lcccc}{ 
	\hfil Model & A & A+ & B & B rev 2.0 \crl
		Počet pinů & 0 & 0 & 0 & 0   \cr
		RAM paměť  & 0 & 0 & 0 & 0   \cr
		USB porty
}
\caption/t Seznam modelů Raspberry Pi
 
 \sec Linux a RT vylepšení
 
 \sec FPGA
 
 Text v sekci.\cite[AGL125] \cite[Libero_ug] \cite[rt-wiki]
 
 \chap Použité řešení
 
 Text v sekci.
 
 \chap Závěr
 

 



 \bibchap
 \usebib/c (simple) mybase

\app Zadání

 \sec pokyny
 
Na platformě procesorové desky Raspberry Pi implementujte systém pro řízení bezkartáčových (BLDC/PMSM) motorů.

1. Pro komunikaci procesorového systému s výkonovým hardwarem realizovaným s využitím programovatelného obvodu (FPGA) vyberte vhodný protokol a periferii.

2. Pro vybraný způsob komunikace navrhněte ovladač na straně jádra Linux a obvodový návrh ve VHDL na straně FPGA.

3. Integrujte bloky pro snímání polohy, řízení výkonových stupňů a měření proudu do FPGA návrhu.

4. S využitím navržených periferií realizujte řízení bezkartáčového motoru.

5. Vyžaduje se podrobná technická dokumentace včetně přípravy podkladů pro prezentaci včetně videozáznamu.

\app Zkratky\par \makeglos %vlozi novou prilohu



 
 
 \bye
  
 